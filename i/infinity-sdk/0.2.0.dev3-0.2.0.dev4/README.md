# Comparing `tmp/infinity_sdk-0.2.0.dev3-py3-none-any.whl.zip` & `tmp/infinity_sdk-0.2.0.dev4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,28 +1,28 @@
-Zip file size: 52918 bytes, number of entries: 26
+Zip file size: 52954 bytes, number of entries: 26
 -rw-rw-r--  2.0 unx     1190 b- defN 24-May-26 15:19 infinity/__init__.py
 -rw-rw-r--  2.0 unx     1341 b- defN 24-May-26 15:06 infinity/common.py
 -rw-rw-r--  2.0 unx     1791 b- defN 24-May-16 06:36 infinity/connection_pool.py
 -rw-rw-r--  2.0 unx     1387 b- defN 24-May-16 06:36 infinity/db.py
--rw-rw-r--  2.0 unx     4527 b- defN 24-May-27 01:59 infinity/errors.py
+-rw-rw-r--  2.0 unx     4555 b- defN 24-Jun-02 12:39 infinity/errors.py
 -rw-rw-r--  2.0 unx     2481 b- defN 24-May-27 01:52 infinity/index.py
 -rw-rw-r--  2.0 unx     1237 b- defN 24-May-17 02:48 infinity/infinity.py
 -rw-rw-r--  2.0 unx     2487 b- defN 24-May-26 15:31 infinity/table.py
 -rw-rw-r--  2.0 unx     1515 b- defN 24-May-27 01:56 infinity/utils.py
 -rw-rw-r--  2.0 unx        0 b- defN 24-Mar-27 16:25 infinity/remote_thrift/__init__.py
--rw-rw-r--  2.0 unx    13987 b- defN 24-May-30 08:56 infinity/remote_thrift/client.py
+-rw-rw-r--  2.0 unx    13967 b- defN 24-Jun-03 03:18 infinity/remote_thrift/client.py
 -rw-rw-r--  2.0 unx      680 b- defN 24-Mar-17 04:21 infinity/remote_thrift/common.py
 -rw-rw-r--  2.0 unx    13148 b- defN 24-May-30 06:59 infinity/remote_thrift/db.py
 -rw-rw-r--  2.0 unx     4167 b- defN 24-May-26 15:22 infinity/remote_thrift/infinity.py
 -rw-rw-r--  2.0 unx    11523 b- defN 24-May-30 06:59 infinity/remote_thrift/query_builder.py
--rw-rw-r--  2.0 unx    19944 b- defN 24-May-30 06:59 infinity/remote_thrift/table.py
+-rw-rw-r--  2.0 unx    21291 b- defN 24-Jun-03 05:17 infinity/remote_thrift/table.py
 -rw-rw-r--  2.0 unx    16026 b- defN 24-May-30 06:59 infinity/remote_thrift/types.py
 -rw-rw-r--  2.0 unx     7763 b- defN 24-May-27 02:01 infinity/remote_thrift/utils.py
 -rw-rw-r--  2.0 unx   178466 b- defN 24-May-26 09:16 infinity/remote_thrift/infinity_thrift_rpc/InfinityService.py
 -rw-rw-r--  2.0 unx       53 b- defN 24-Mar-27 16:25 infinity/remote_thrift/infinity_thrift_rpc/__init__.py
 -rw-rw-r--  2.0 unx      366 b- defN 24-May-16 06:36 infinity/remote_thrift/infinity_thrift_rpc/constants.py
 -rw-rw-r--  2.0 unx   285540 b- defN 24-May-30 06:59 infinity/remote_thrift/infinity_thrift_rpc/ttypes.py
--rw-rw-r--  2.0 unx     2241 b- defN 24-May-30 09:44 infinity_sdk-0.2.0.dev3.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 24-May-30 09:44 infinity_sdk-0.2.0.dev3.dist-info/WHEEL
--rw-rw-r--  2.0 unx        9 b- defN 24-May-30 09:44 infinity_sdk-0.2.0.dev3.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2275 b- defN 24-May-30 09:44 infinity_sdk-0.2.0.dev3.dist-info/RECORD
-26 files, 574236 bytes uncompressed, 49220 bytes compressed:  91.4%
+-rw-rw-r--  2.0 unx     2052 b- defN 24-Jun-03 06:45 infinity_sdk-0.2.0.dev4.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 24-Jun-03 06:45 infinity_sdk-0.2.0.dev4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        9 b- defN 24-Jun-03 06:45 infinity_sdk-0.2.0.dev4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2275 b- defN 24-Jun-03 06:45 infinity_sdk-0.2.0.dev4.dist-info/RECORD
+26 files, 575402 bytes uncompressed, 49256 bytes compressed:  91.4%
```

## zipnote {}

```diff
@@ -60,20 +60,20 @@
 
 Filename: infinity/remote_thrift/infinity_thrift_rpc/constants.py
 Comment: 
 
 Filename: infinity/remote_thrift/infinity_thrift_rpc/ttypes.py
 Comment: 
 
-Filename: infinity_sdk-0.2.0.dev3.dist-info/METADATA
+Filename: infinity_sdk-0.2.0.dev4.dist-info/METADATA
 Comment: 
 
-Filename: infinity_sdk-0.2.0.dev3.dist-info/WHEEL
+Filename: infinity_sdk-0.2.0.dev4.dist-info/WHEEL
 Comment: 
 
-Filename: infinity_sdk-0.2.0.dev3.dist-info/top_level.txt
+Filename: infinity_sdk-0.2.0.dev4.dist-info/top_level.txt
 Comment: 
 
-Filename: infinity_sdk-0.2.0.dev3.dist-info/RECORD
+Filename: infinity_sdk-0.2.0.dev4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## infinity/errors.py

```diff
@@ -109,14 +109,15 @@
     INVALID_DROP_OPTION = 3075,
     INVALID_COMMAND = 3076,
     ANALYZER_NOT_FOUND = 3077,
     NOT_SUPPORTED_ANALYZER = 3078,
     INVALID_ANALYZER_NAME = 3079,
     INVALID_ANALYZER_FILE = 3080,
     INVALID_EXPLAIN_TYPE = 3081,
+    CHUNK_NOT_EXIST = 3082,
 
     TXN_ROLLBACK = 4001,
     TXN_CONFLICT = 4002,
 
     DISK_FULL = 5001,
     OUT_OF_MEMORY = 5002,
     TOO_MANY_CONNECTIONS = 5003,
```

## infinity/remote_thrift/client.py

```diff
@@ -40,24 +40,24 @@
         # self.protocol = TCompactProtocol.TCompactProtocol(self.transport)
         self.client = InfinityService.Client(self.protocol)
         self.transport.open()
 
         # version: 0.2.0.dev2, client_version: 1
         # version: 0.2.0.dev3, client_version: 2
         # version: 0.2.0.dev4, client_version: 3
-        res = self.client.Connect(ConnectRequest(client_version=2))
+        # version: 0.2.0.dev5, client_version: 4
+        res = self.client.Connect(ConnectRequest(client_version=3))
         if res.error_code != 0:
             raise InfinityException(res.error_code, res.error_msg)
         self.session_id = res.session_id
 
     def create_database(self, db_name: str, conflict_type: CreateConflict = CreateConflict.Error):
         return self.client.CreateDatabase(CreateDatabaseRequest(session_id=self.session_id,
                                                                 db_name=db_name,
-                                                                create_option=CreateOption(
-                                                                    conflict_type=conflict_type)))
+                                                                create_option=CreateOption(conflict_type=conflict_type)))
 
     def drop_database(self, db_name: str, conflict_type: DropConflict = DropConflict.Error):
         return self.client.DropDatabase(DropDatabaseRequest(session_id=self.session_id,
                                                             db_name=db_name,
                                                             drop_option=DropOption(conflict_type=conflict_type)))
 
     def list_databases(self):
```

## infinity/remote_thrift/table.py

```diff
@@ -208,16 +208,37 @@
                                 constant_expression = ttypes.ConstantExpr(
                                     literal_type=ttypes.LiteralType.IntegerTensorArray,
                                     i64_tensor_array_value=value)
                             elif isinstance(value[0][0][0], float):
                                 constant_expression = ttypes.ConstantExpr(
                                     literal_type=ttypes.LiteralType.DoubleTensorArray,
                                     f64_tensor_array_value=value)
+                elif isinstance(value, np.ndarray):
+                    float_list = value.tolist()
+                    if isinstance(float_list[0], int):
+                        constant_expression = ttypes.ConstantExpr(
+                            literal_type=ttypes.LiteralType.IntegerArray,
+                            i64_array_value=float_list)
+                    elif isinstance(float_list[0], float):
+                        constant_expression = ttypes.ConstantExpr(
+                            literal_type=ttypes.LiteralType.DoubleArray,
+                            f64_array_value=float_list)
+                    elif isinstance(float_list[0], list):
+                        if isinstance(float_list[0][0], int):
+                            constant_expression = ttypes.ConstantExpr(
+                                literal_type=ttypes.LiteralType.IntegerTensorArray,
+                                i64_tensor_array_value=float_list)
+                        elif isinstance(float_list[0][0], float):
+                            constant_expression = ttypes.ConstantExpr(
+                                literal_type=ttypes.LiteralType.DoubleTensorArray,
+                                f64_tensor_array_value=float_list)
+                    else:
+                        raise InfinityException(3069, f"Invalid list type: {type(value)}")
                 else:
-                    raise InfinityException(3069, f"Invalid constant expression: {type(value)}")
+                    raise InfinityException(3069, f"Invalid constant type: {type(value)}")
 
                 expr_type = ttypes.ParsedExprType(
                     constant_expr=constant_expression)
                 paser_expr = ttypes.ParsedExpr(type=expr_type)
 
                 parse_exprs.append(paser_expr)
```

## Comparing `infinity_sdk-0.2.0.dev3.dist-info/METADATA` & `infinity_sdk-0.2.0.dev4.dist-info/METADATA`

 * *Files 17% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: infinity_sdk
-Version: 0.2.0.dev3
+Version: 0.2.0.dev4
 Summary: infinity
 Requires-Python: >=3.10
 Description-Content-Type: text/markdown
 Requires-Dist: sqlglot ~=11.7.1
 Requires-Dist: pydantic ~=2.7.1
 Requires-Dist: thrift ~=0.20.0
 Requires-Dist: setuptools ~=69.5.1
@@ -52,30 +52,18 @@
 import infinity
 from infinity.common import REMOTE_HOST
 from infinity.common import ConflictType
 
 infinity_obj = infinity.connect(REMOTE_HOST)
 db = infinity_obj.get_database("default_db")
 db.drop_table("my_table", ConflictType.Ignore)
-table = db_obj.create_table("my_table", {
-            "c1": {
-                "type": "int",
-                "constraints"(optional): ["primary key", ...],
-                "default"(optional): 1/"asdf"/[1,2]/...
-            },
-            "c2": {
-                "type":"vector,1024,float32",
-            }
-        }, None)
-table.insert(
-    [{"num": 1, "body": "undesirable, unnecessary, and harmful", "vec": [1.0] * 5}])
-table.insert(
-    [{"num": 2, "body": "publisher=US National Office for Harmful Algal Blooms", "vec": [4.0] * 5}])
-table.insert(
-    [{"num": 3, "body": "in the case of plants, growth and chemical", "vec": [7.0] * 5}])
+table = db.create_table("my_table", {"num": {"type": "integer"}, "body": {"type": "varchar"}, "vec": {"type": "vector,5,float"}}, ConflictType.Error)
+table.insert([{"num": 1, "body": "undesirable, unnecessary, and harmful", "vec": [1.0] * 5}])
+table.insert([{"num": 2, "body": "publisher=US National Office for Harmful Algal Blooms", "vec": [4.0] * 5}])
+table.insert([{"num": 3, "body": "in the case of plants, growth and chemical", "vec": [7.0] * 5}])
 
 res = table.output(["*"]).knn("vec", [3.0] * 5, "float", "ip", 2).to_pl()
 print(res)
 
 ```
 
 # For developer
```

## Comparing `infinity_sdk-0.2.0.dev3.dist-info/RECORD` & `infinity_sdk-0.2.0.dev4.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -1,26 +1,26 @@
 infinity/__init__.py,sha256=eHS_ciCPR_EfE4rSDrxMBfvPPbS9YDWVlHzGR3PURCg,1190
 infinity/common.py,sha256=1HG4pdXMuOjojxV1AjaSo2TWq7Bo2ztn-lvkKsyIdhY,1341
 infinity/connection_pool.py,sha256=OPTfDnqqh0YqzOt-4863d8_-lsQ56O378f2tCI-zB4I,1791
 infinity/db.py,sha256=WFZ_BcofXmsxUtV6PyKrOsAwrtkBbXse9RclA590QJw,1387
-infinity/errors.py,sha256=xbx5Sr6hvJ-k2eNCxpYxB8bXqwbOekiER3MOfNHoow8,4527
+infinity/errors.py,sha256=AKpKsIGS0wig6HFdBKBinGhETc1eEeYCY8nOn3-BQm0,4555
 infinity/index.py,sha256=XQdc-tCNZ8Zbpvc6ZJdFVnzdQCI_yN8gJluiwf-8CeM,2481
 infinity/infinity.py,sha256=XAS6KQvYlRtpL8SFSbcRcCpwHzB6CcPXtkZxTjwL5hE,1237
 infinity/table.py,sha256=5mZPz8MQDUYV8VWyfXJkTmf3RXZXF9zDLbCy69pZcmM,2487
 infinity/utils.py,sha256=qUy-uwvggvNPrv6lb2YWzu65ewGcolWOUG7uGkjt7qI,1515
 infinity/remote_thrift/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-infinity/remote_thrift/client.py,sha256=RhS4i5lFyU_M-WhtGNeMUEKtS31yyptN_fVIUbkbaiI,13987
+infinity/remote_thrift/client.py,sha256=QQFjXndjnkCvCbyPTwLuxE4S00XysjYgOhH8BNVjY4s,13967
 infinity/remote_thrift/common.py,sha256=4eyCmKtUP3dNyZmtIPoCc05AAseuJsfqgfTQ6aY9iag,680
 infinity/remote_thrift/db.py,sha256=FRRQXuARYd55O1oNpCzmi8xGQNoLSRB6PTAXot0Aovg,13148
 infinity/remote_thrift/infinity.py,sha256=FBpOc1KgLJcBTeLpVHWKGwA26vzq4TdoTVrV1j3-sCk,4167
 infinity/remote_thrift/query_builder.py,sha256=ECPemHsF9zRxvgUrNxSXBGN44SAtWKmroYz0n8c9Jjc,11523
-infinity/remote_thrift/table.py,sha256=1U_AWGZ5NlDJpuKPsGQYPgeSi2BDDxPJ0WyhfYGc1FA,19944
+infinity/remote_thrift/table.py,sha256=_R7Xiwfxb4JjsUukoDICIFO0oI9YEjYwEO-uzj1Wj4o,21291
 infinity/remote_thrift/types.py,sha256=b4OLPQ5I0nHIdn4_v0kswGPN3F54hMzJQvVGlQ5nGwY,16026
 infinity/remote_thrift/utils.py,sha256=aHAqrMhEbls80T56NUvJJji4ZqZ0r6SMxT5AaYES-fo,7763
 infinity/remote_thrift/infinity_thrift_rpc/InfinityService.py,sha256=zZq0vvzQVVL8MvuK05LhkLNH-_KHyY-iT54B2saUB-U,178466
 infinity/remote_thrift/infinity_thrift_rpc/__init__.py,sha256=ezRvowu7Yojw8xly58EOLQ3_40IK5XUqusB8XPoRlF4,53
 infinity/remote_thrift/infinity_thrift_rpc/constants.py,sha256=fEiYY_X50Lqtkoew_h1qWBH5QmDiygExYB-6WRsifqg,366
 infinity/remote_thrift/infinity_thrift_rpc/ttypes.py,sha256=qTv0Xv0-v5qhSBHaDW0k4sX11MELdLj_b0DJT7y0fYc,285540
-infinity_sdk-0.2.0.dev3.dist-info/METADATA,sha256=gVgcxYQP_2ny62T0sUMAWXC6SocsA5ym2qJF_84imfA,2241
-infinity_sdk-0.2.0.dev3.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
-infinity_sdk-0.2.0.dev3.dist-info/top_level.txt,sha256=I5UhBoCrOOXaJN_xGXGoA73npSJ-IRiqYdRL8NYf5VY,9
-infinity_sdk-0.2.0.dev3.dist-info/RECORD,,
+infinity_sdk-0.2.0.dev4.dist-info/METADATA,sha256=Ei-vJ4BW1pUAoQu35KtRophcvKbkF5tFdLQJgZgb084,2052
+infinity_sdk-0.2.0.dev4.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
+infinity_sdk-0.2.0.dev4.dist-info/top_level.txt,sha256=I5UhBoCrOOXaJN_xGXGoA73npSJ-IRiqYdRL8NYf5VY,9
+infinity_sdk-0.2.0.dev4.dist-info/RECORD,,
```

