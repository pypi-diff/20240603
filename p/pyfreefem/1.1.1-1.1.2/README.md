# Comparing `tmp/pyfreefem-1.1.1-py3-none-any.whl.zip` & `tmp/pyfreefem-1.1.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,11 +1,40 @@
-Zip file size: 29601 bytes, number of entries: 9
--rw-r--r--  2.0 unx      800 b- defN 23-Jan-30 15:19 pyfreefem/__init__.py
--rw-r--r--  2.0 unx    18700 b- defN 23-May-05 09:43 pyfreefem/freefemrunner.py
--rw-r--r--  2.0 unx    11199 b- defN 23-May-01 14:03 pyfreefem/io.py
--rw-r--r--  2.0 unx    21241 b- defN 23-May-01 14:10 pyfreefem/preprocessor.py
--rw-r--r--  2.0 unx    35149 b- defN 23-May-09 08:05 pyfreefem-1.1.1.dist-info/LICENSE
--rw-r--r--  2.0 unx     4178 b- defN 23-May-09 08:05 pyfreefem-1.1.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-09 08:05 pyfreefem-1.1.1.dist-info/WHEEL
--rw-r--r--  2.0 unx       10 b- defN 23-May-09 08:05 pyfreefem-1.1.1.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx      714 b- defN 23-May-09 08:05 pyfreefem-1.1.1.dist-info/RECORD
-9 files, 92083 bytes uncompressed, 28383 bytes compressed:  69.2%
+Zip file size: 48684 bytes, number of entries: 38
+-rw-rw-r--  2.0 unx      800 b- defN 23-Jan-30 15:19 pyfreefem/__init__.py
+-rw-rw-r--  2.0 unx    19465 b- defN 24-Apr-18 08:51 pyfreefem/freefemrunner.py
+-rw-rw-r--  2.0 unx    11687 b- defN 23-Jul-12 16:51 pyfreefem/io.py
+-rw-rw-r--  2.0 unx    21370 b- defN 23-Jul-12 16:51 pyfreefem/preprocessor.py
+-rw-rw-r--  2.0 unx     1664 b- defN 24-Feb-16 11:51 pyfreefem/edp/ddm.edp
+-rw-r--r--  2.0 unx     4991 b- defN 24-Mar-06 14:47 pyfreefem/edp/io.edp
+-rw-rw-r--  2.0 unx        0 b- defN 24-Jun-03 07:31 pyfreefem/examples/__init__.py
+-rw-rw-r--  2.0 unx      851 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex00_substitution.py
+-rw-rw-r--  2.0 unx     1096 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex01_default_set.py
+-rw-rw-r--  2.0 unx      915 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex01_default_set_debug.py
+-rw-rw-r--  2.0 unx      849 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex02_set_textvar.py
+-rw-rw-r--  2.0 unx     1189 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex03_ifeq.py
+-rw-rw-r--  2.0 unx      840 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex04_for.py
+-rw-rw-r--  2.0 unx      844 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex05_magic_comment.py
+-rw-rw-r--  2.0 unx      844 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex06_double_backslash.py
+-rw-rw-r--  2.0 unx     1503 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex07_read_write_FFArray.py
+-rw-rw-r--  2.0 unx     1623 b- defN 23-Oct-04 09:03 pyfreefem/examples/ex08_read_write_FFMatrix.py
+-rw-rw-r--  2.0 unx     1674 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex09_freefemrunner_env.py
+-rw-rw-r--  2.0 unx     1751 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex10_io_export.py
+-rw-rw-r--  2.0 unx     1208 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex11_io_import.py
+-rw-rw-r--  2.0 unx     1850 b- defN 23-Apr-28 11:55 pyfreefem/examples/ex12_verbosity_output.py
+-rw-rw-r--  2.0 unx      819 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex13_change_cmd.py
+-rw-rw-r--  2.0 unx       36 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex14_make_mesh.py
+-rw-rw-r--  2.0 unx      190 b- defN 23-Apr-28 07:23 pyfreefem/examples/ex15_laplace.py
+-rw-r--r--  2.0 unx      101 b- defN 23-Apr-28 07:23 pyfreefem/examples/edp/ex1.edp
+-rw-r--r--  2.0 unx       35 b- defN 23-Apr-28 07:23 pyfreefem/examples/edp/ex14.edp
+-rw-r--r--  2.0 unx      271 b- defN 23-Apr-28 07:23 pyfreefem/examples/edp/ex15.edp
+-rw-r--r--  2.0 unx      213 b- defN 23-Apr-28 07:23 pyfreefem/examples/edp/ex2.edp
+-rw-r--r--  2.0 unx      536 b- defN 23-Apr-28 07:23 pyfreefem/examples/edp/ex3.edp
+-rw-r--r--  2.0 unx      116 b- defN 23-Apr-28 07:23 pyfreefem/examples/edp/ex4.edp
+-rw-r--r--  2.0 unx      188 b- defN 23-Apr-28 07:23 pyfreefem/examples/edp/ex5.edp
+-rw-r--r--  2.0 unx      301 b- defN 23-Apr-28 07:23 pyfreefem/examples/edp/ex6.edp
+-rw-r--r--  2.0 unx      334 b- defN 23-Apr-28 07:23 pyfreefem/examples/edp/ex9.edp
+-rw-r--r--  2.0 unx    35149 b- defN 24-Jun-03 07:34 pyfreefem-1.1.2.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     4170 b- defN 24-Jun-03 07:34 pyfreefem-1.1.2.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 24-Jun-03 07:34 pyfreefem-1.1.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx       10 b- defN 24-Jun-03 07:34 pyfreefem-1.1.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3347 b- defN 24-Jun-03 07:34 pyfreefem-1.1.2.dist-info/RECORD
+38 files, 122922 bytes uncompressed, 43256 bytes compressed:  64.8%
```

## zipnote {}

```diff
@@ -6,23 +6,110 @@
 
 Filename: pyfreefem/io.py
 Comment: 
 
 Filename: pyfreefem/preprocessor.py
 Comment: 
 
-Filename: pyfreefem-1.1.1.dist-info/LICENSE
+Filename: pyfreefem/edp/ddm.edp
 Comment: 
 
-Filename: pyfreefem-1.1.1.dist-info/METADATA
+Filename: pyfreefem/edp/io.edp
 Comment: 
 
-Filename: pyfreefem-1.1.1.dist-info/WHEEL
+Filename: pyfreefem/examples/__init__.py
 Comment: 
 
-Filename: pyfreefem-1.1.1.dist-info/top_level.txt
+Filename: pyfreefem/examples/ex00_substitution.py
 Comment: 
 
-Filename: pyfreefem-1.1.1.dist-info/RECORD
+Filename: pyfreefem/examples/ex01_default_set.py
+Comment: 
+
+Filename: pyfreefem/examples/ex01_default_set_debug.py
+Comment: 
+
+Filename: pyfreefem/examples/ex02_set_textvar.py
+Comment: 
+
+Filename: pyfreefem/examples/ex03_ifeq.py
+Comment: 
+
+Filename: pyfreefem/examples/ex04_for.py
+Comment: 
+
+Filename: pyfreefem/examples/ex05_magic_comment.py
+Comment: 
+
+Filename: pyfreefem/examples/ex06_double_backslash.py
+Comment: 
+
+Filename: pyfreefem/examples/ex07_read_write_FFArray.py
+Comment: 
+
+Filename: pyfreefem/examples/ex08_read_write_FFMatrix.py
+Comment: 
+
+Filename: pyfreefem/examples/ex09_freefemrunner_env.py
+Comment: 
+
+Filename: pyfreefem/examples/ex10_io_export.py
+Comment: 
+
+Filename: pyfreefem/examples/ex11_io_import.py
+Comment: 
+
+Filename: pyfreefem/examples/ex12_verbosity_output.py
+Comment: 
+
+Filename: pyfreefem/examples/ex13_change_cmd.py
+Comment: 
+
+Filename: pyfreefem/examples/ex14_make_mesh.py
+Comment: 
+
+Filename: pyfreefem/examples/ex15_laplace.py
+Comment: 
+
+Filename: pyfreefem/examples/edp/ex1.edp
+Comment: 
+
+Filename: pyfreefem/examples/edp/ex14.edp
+Comment: 
+
+Filename: pyfreefem/examples/edp/ex15.edp
+Comment: 
+
+Filename: pyfreefem/examples/edp/ex2.edp
+Comment: 
+
+Filename: pyfreefem/examples/edp/ex3.edp
+Comment: 
+
+Filename: pyfreefem/examples/edp/ex4.edp
+Comment: 
+
+Filename: pyfreefem/examples/edp/ex5.edp
+Comment: 
+
+Filename: pyfreefem/examples/edp/ex6.edp
+Comment: 
+
+Filename: pyfreefem/examples/edp/ex9.edp
+Comment: 
+
+Filename: pyfreefem-1.1.2.dist-info/LICENSE
+Comment: 
+
+Filename: pyfreefem-1.1.2.dist-info/METADATA
+Comment: 
+
+Filename: pyfreefem-1.1.2.dist-info/WHEEL
+Comment: 
+
+Filename: pyfreefem-1.1.2.dist-info/top_level.txt
+Comment: 
+
+Filename: pyfreefem-1.1.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pyfreefem/freefemrunner.py

```diff
@@ -175,14 +175,20 @@
         if not os.path.exists(self.run_dir):
             os.makedirs(self.run_dir)
             display("Create "+self.run_dir, level=10, debug=self.debug,
                     color="magenta")
         self.ffexport_dir = self.run_dir+'/ffexport'
         self.ffimport_dir = self.run_dir+'/ffimport'
 
+        if os.name == 'nt':
+            # If windows, do not use backslashes for directory
+            self.run_dir = self.run_dir.replace('\\','/')
+            self.ffexport_dir = self.ffexport_dir.replace('\\','/')
+            self.ffimport_dir = self.ffimport_dir.replace('\\','/')
+
         if isinstance(script, Preprocessor):
             self.preprocessor = script
         else:
             self.preprocessor = Preprocessor(script, config, debug=self.debug-10)
                 
         #: Dictionary of magic variables.   
         #: This dictionary is updated after calling :meth:`pyfreefem.FreeFemRunner.execute`.
@@ -291,15 +297,16 @@
         return self
 
     def __exit__(self, type, value, traceback):
         pass
             
 
     def execute(self, config=dict(), debug = None, verbosity = -1,  
-                ncpu = 1, with_mpi = False, plot = None, level = 1):
+                ncpu = 1, with_mpi = False, plot = None, level = 1, 
+                extra_args=""):
         """
         Parse the script with the input config, save the code in an ``.edp`` file
         and execute FreeFEM on it.
 
         .. code:: python
 
             runner = FreeFemRunner('solveState.edp')
@@ -363,20 +370,24 @@
                      the ``plot`` parameter of the  
                      :class:`pyfreefem.FreeFemRunner` constructor.
 
         :type plot: boolean
         :param level: set a custom level for PyFreeFEM debugging informations.  
                       Namely, the executed ``FreeFem++`` command and further    
                       PyFreeFEM operations will be shown if ``debug>=level``.
+                    
+        :param extra_args: (default: empty). Extra arguments to pass to FreeFEM command (for instance, ``-log_view``)
 
         :return exports:    a dictionary containing FreeFEM exported variables. 
                             See :ref:`export`.
         :rtype: dict: 
         """
+        selfdebug = self.debug 
         debug = self.debug if debug is None else debug  
+        self.debug = debug
         plot = self.plot if plot is None else plot
 
         config.update({'RUNDIR':self.run_dir})
         config.update({'FFEXPORTDIR':self.ffexport_dir})
         config.update({'FFIMPORTDIR':self.ffimport_dir})
 
         config.update({'DEBUG':debug})
@@ -384,15 +395,15 @@
             config.update({'WITH_MPI': 1})
         else:
             config.update({'WITH_MPI': 0})
         self.config.update(config)
         target_file = self._write_edp_file(config)
         silent = verbosity < 0
         if silent:
-            verbosity = 0
+            verbosity = -1
 
         self.exports = dict()
         if not os.path.exists(self.run_dir):
             os.makedirs(self.run_dir)
 
         # Clean the ffexport_dir 
         if os.path.exists(self.ffexport_dir):
@@ -401,43 +412,45 @@
         display("Reset directory "+self.ffexport_dir, level=10, debug=self.debug, 
                 color="magenta")
 
 
         try:
             returncode, stdout, stderr, mix = \
                 exec2(self.cmd(target_file, ncpu=ncpu, verbosity= verbosity, with_mpi=with_mpi,
-                               plot=plot),
+                               plot=plot,extra_args=extra_args),
                        debug=debug, level=level, silent=silent)
         except ExecException as e:
             display(e.args[0], level = 0, debug = 0)
             display('\n'.join(e.mix.splitlines()[-40:]), level=0, debug=0)
             e.args = []
             raise e
 
         exportfiles = os.listdir(self.ffexport_dir)
         for file in exportfiles:
             if file.startswith('mesh_') and not file.endswith('.gmsh'):
                 from pymedit import Mesh
                 self.exports[file[5:-5]] = Mesh(self.ffexport_dir+"/"+file) 
             if file.startswith('mesh3D_') and not file.endswith('.gmsh'):
                 from pymedit import Mesh3D
-                self.exports[file[5:-5]] = Mesh3D(self.ffexport_dir+"/"+file) 
+                self.exports[file[7:-5]] = Mesh3D(self.ffexport_dir+"/"+file) 
             if file.startswith('var_'): 
                 with open(self.ffexport_dir+'/'+file) as f:
                     self.exports[file[4:]] = float(f.read())
             if file.startswith('array_'):
                 self.exports[file[6:]] = readFFArray(self.ffexport_dir+'/'+file)
             if file.startswith('matrix_'):
                 self.exports[file[7:]] = readFFMatrix(self.ffexport_dir+'/'+file)
 
+        self.debug = selfdebug 
+
         self.rets =(returncode, stdout, stderr, mix)
         return self.exports
 
 
-    def cmd(self, target_file, ncpu=1, with_mpi=False, verbosity = None, plot=False):
+    def cmd(self, target_file, ncpu=1, with_mpi=False, verbosity = None, plot=False, extra_args=""):
         """Returns the shell command that is to be run when calling the method :meth:`pyfreefem.FreeFemRunner.execute`.  
             
         :param target_file: name of the final executable file.  
         :param with_mpi: (default: ``False``). If set to ``True``, then     
                          :meth:`pyfreefem.FreeFemRunner.execute` will call ``ff-mpirun``.
         :type with_mpi: boolean
 
@@ -445,14 +458,16 @@
         :param verbosity: option '-v` of FreeFEM. This option is not specified if   
                           ``verbosity`` is ``None``.
 
         :param plot: (default: ``False``). If set to ``True``, then     
                          :meth:`pyfreefem.FreeFemRunner.execute` will use the   
                          ``-wg`` option (with graphics). Otherwise,     
                          FreeFem will be called with ``-nw`` option.
+        :param extra_args: (default: empty). Extra arguments to pass to FreeFEM command (for instance, ``-log_view``)
+
         :type plot: boolean
             
         :returns: Shell command for executing FreeFEM with ``target_file`` input 
                  script.
         """
         if ncpu > 1 or with_mpi:    
             cmd = f"ff-mpirun -np {ncpu}"
@@ -461,8 +476,10 @@
         cmd += " " + target_file
         if not verbosity is None:
             cmd = cmd+" -v "+str(int(verbosity))
         if plot:    
             cmd = cmd+" -wg"
         elif not with_mpi:
             cmd += " -nw"
+        if extra_args:  
+            cmd += " "+extra_args
         return cmd
```

## pyfreefem/io.py

```diff
@@ -10,15 +10,15 @@
 # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 # GNU General Public License for more details.
 #
 # A copy of the GNU General Public License is included below.
 # For further information, see <http://www.gnu.org/licenses/>.
 """PyFreeFEM input/output functions."""
     
-
+import os
 import scipy.sparse as sp
 import numpy as np
 import time
 import sys
 import subprocess
 import threading
 import queue
@@ -216,16 +216,20 @@
         for (k, line) in enumerate(lines[4:]):
             i.append(int(line.split()[0])-1)
             j.append(int(line.split()[1])-1)
             data.append(float(line.split()[2]))
     return sp.csc_matrix((data, (i, j)))
 
 def enqueue_stream(stream, queue, type):
-    for line in iter(stream.readline, b''):
-        queue.put(str(type) + line.decode('utf-8', errors='replace'))
+    if os.name == 'nt':
+        for line in iter(stream.readline, ''):
+            queue.put(str(type)+ line)
+    else:
+        for line in iter(stream.readline, b''):
+            queue.put(str(type) + line.decode('utf-8', errors='replace'))
     stream.close()
 
 
 def enqueue_process(process, queue):
     process.wait()
     queue.put('x')
 
@@ -259,18 +263,26 @@
     """
     display(colored(cmd, color="indian_red_1a"), level=level, debug=debug, end='',
             flag='shell')
     # Put a line break to separate from the stdout 
     if not silent:
         display("",level=level,debug=debug,flag='')
     tic(121)
-    proc = subprocess.Popen("stdbuf -oL "+cmd,shell=True,
-                            stdout = subprocess.PIPE,
-                            stderr = subprocess.PIPE
-                            )
+    if os.name == "nt":
+        proc = subprocess.Popen(cmd,shell=True,
+                                stdout = subprocess.PIPE,
+                                stderr = subprocess.PIPE,
+                                universal_newlines = True,
+                                bufsize = 1
+                                )
+    else:
+        proc = subprocess.Popen("stdbuf -oL "+cmd,shell=True,
+                                stdout = subprocess.PIPE,
+                                stderr = subprocess.PIPE
+                                )
     q = queue.Queue()
     to = threading.Thread(target=enqueue_stream, args=(proc.stdout, q,1))
     te = threading.Thread(target=enqueue_stream, args=(proc.stderr, q,2))
     tp = threading.Thread(target=enqueue_process, args=(proc, q))
     te.start()
     to.start()
     tp.start()
```

## pyfreefem/preprocessor.py

```diff
@@ -136,14 +136,16 @@
         if config is None:
             config = self.config
         keys = list(config.keys())
         keys.sort(reverse=True)
         ret = string
         for key in keys:
             replacement = str(config[key])
+            if os.name == 'nt':
+                replacement = replacement.replace('\\','/')
             ret = ret.replace(MAGIC_CHARACTER+'{'+key+'}', replacement)
             ret = ret.replace(MAGIC_CHARACTER+key, replacement)
         return ret
 
     def parse(self, config=dict()):
         """Parse the ``.edp`` script provided to the :class:`pyfreefem.preprocessor.Preprocessor`   
         instance.
@@ -508,15 +510,17 @@
 
     def __execute_import(self, instruction):
         macro_file = os.path.dirname(__file__)+"/edp/"+instruction[1][1:-1]
         self.imports.append(macro_file)
         if not os.path.exists(macro_file):
             raise NameError("Error while parsing IMPORT instruction: file \""+macro_file+"\" does not "
                         "exist")
-        line = "include \""+self.config['RUNDIR']+"/"+instruction[1][1:-1]+"\"\n"
+        
+        filename = instruction[1][1:-1]
+        line = "include \""+self.config['RUNDIR']+"/"+filename+"\"\n"
         self.interpreted += line
         if self.debug > 1:
             display(colored("Interpreted : ", "green") +
                   colored(line[:-1], "blue"),2,self.debug)
         self.position += 1
```

## Comparing `pyfreefem-1.1.1.dist-info/LICENSE` & `pyfreefem-1.1.2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `pyfreefem-1.1.1.dist-info/METADATA` & `pyfreefem-1.1.2.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,27 +1,27 @@
 Metadata-Version: 2.1
 Name: pyfreefem
-Version: 1.1.1
+Version: 1.1.2
 Summary: Package PyFreeFEM for interfacing Python and FreeFEM.
 Home-page: https://pyfreefem.readthedocs.io/en/latest/
 Author: Florian Feppon
 Author-email: florian.feppon@kuleuven.be
 License: GNU GPL version 3
 Keywords: FreeFEM
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: GNU General Public License v3 (GPLv3)
 Classifier: Operating System :: OS Independent
 Classifier: Topic :: Scientific/Engineering :: Mathematics
 Requires-Python: >=3.6
 Description-Content-Type: text/markdown
 License-File: LICENSE
-Requires-Dist: numpy (>=1.12.1)
-Requires-Dist: scipy (>=0.19.1)
-Requires-Dist: colored (>=1.3.93)
-Requires-Dist: pymedit (>=1.2)
+Requires-Dist: numpy >=1.12.1
+Requires-Dist: scipy >=0.19.1
+Requires-Dist: colored >=1.3.93
+Requires-Dist: pymedit >=1.2
 
 # PyFreeFEM
 
 PyFreeFEM is a python package interfacing
 [FreeFEM](https://freefem.org/) scripts with Python. `.edp` scripts
 become small modules that can be used as building blocks of a main
 python project.
```

